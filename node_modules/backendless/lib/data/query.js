"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _utils = _interopRequireDefault(require("../utils"));

var DataQuery = /*#__PURE__*/function () {
  function DataQuery(args) {
    (0, _classCallCheck2["default"])(this, DataQuery);
    args = args || {};
    this.properties = args.properties || [];
    this.excludeProps = args.excludeProps || [];
    this.condition = args.condition || null;
    this.havingClause = args.havingClause || null;
    this.options = args.options || null;
    this.url = args.url || null;
  }

  (0, _createClass2["default"])(DataQuery, [{
    key: "addProperty",
    value: function addProperty(prop) {
      this.properties = this.properties || [];
      this.properties.push(prop);
    }
  }, {
    key: "excludeProperties",
    value: function excludeProperties() {
      var _this = this;

      this.excludeProps = this.excludeProps || [];

      for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {
        properties[_key] = arguments[_key];
      }

      properties.forEach(function (p) {
        _utils["default"].castArray(p).forEach(function (property) {
          return _this.excludeProps.push(property);
        });
      });
      return this;
    }
  }, {
    key: "setOption",
    value: function setOption(name, value) {
      this.options = this.options || {};
      this.options[name] = value;
    }
  }, {
    key: "setOptions",
    value: function setOptions(options) {
      for (var key in options) {
        if (options.hasOwnProperty(key)) {
          this.setOption(key, options[key]);
        }
      }
    }
  }, {
    key: "getOption",
    value: function getOption(name) {
      return this.options && this.options[name];
    }
  }]);
  return DataQuery;
}();

exports["default"] = DataQuery;