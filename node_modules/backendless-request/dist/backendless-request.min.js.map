{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f58ea44e0d6ec08e9b18","webpack:///backendless-request.min.js","webpack:///./src/utils.js","webpack:///external \"buffer\"","webpack:///./src/index.js","webpack:///./src/cache.js","webpack:///./src/event-emitter.js","webpack:///./src/qs.js","webpack:///external \"stream\"","webpack:///external \"url\"","webpack:///external \"https\"","webpack:///external \"http\"","webpack:///external \"form-data\""],"names":["root","factory","exports","module","define","amd","self","this","__webpack_require__","moduleId","installedModules","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","_typeof","Symbol","iterator","obj","constructor","castArray","Array","isArray","isObject","isFormData","trim","indexOf","isStream","require","Stream","Error","_interopRequireDefault","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","writable","setPrototypeOf","__proto__","parseError","res","status","body","statusText","parseBody","JSON","parse","e","parseHeaders","headersString","parsed","split","forEach","line","key","substr","val","checkStatus","response","ResponseError","_createClass","defineProperties","target","props","length","descriptor","protoProps","staticProps","_extends","assign","arguments","source","_cache2","_cache","_eventEmitter2","_eventEmitter","qs","newObj","cache","Cache","error","message","code","headers","_Error","sendXmlHttpRequest","path","method","Promise","resolve","reject","request","Request","XMLHttpRequest","open","toUpperCase","onload","getAllResponseHeaders","responseText","onerror","ontimeout","keys","setRequestHeader","send","sendNodeAPIRequest","encoding","u","form","https","protocol","options","host","hostname","port","_send","Buffer","httpClient","req","strings","buffers","bufferLength","statusCode","statusMessage","on","chunk","isBuffer","push","concat","toString","join","pipe","write","end","getHeaders","getLength","err","isNaN","byteLength","tags","undefined","unwrap","cacheTTL","queryParams","_EventEmitter","headerName","set","FormData","formData","formKey","formValue","append","reset","deleteByTags","contentType","emit","queryString","stringify","cached","type","unwrapBody","cacheResponse","flushCache","verbose","console","log","decodeURIComponent","then","result","successHandler","errorHandler","promise","EventEmitter","methods","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","next","done","cacheItem","ttl","currentTime","Date","getTime","tagsMatches","a","b","RegExp","test","tagsContainMatches","find","aTag","bTag","flushInterval","map","Map","flushTimer","setInterval","flush","bind","unref","now","events","eventName","callback","filter","args","tokens","encodeURIComponent"],"mappings":"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","file":"backendless-request.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"BackendlessRequest\"] = factory();\n\telse\n\t\troot[\"BackendlessRequest\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f58ea44e0d6ec08e9b18","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"BackendlessRequest\"] = factory();\n\telse\n\t\troot[\"BackendlessRequest\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * Casts `value` as an array if it's not one.\n * Equvivalent to lodash/castArray\n */\nvar castArray = exports.castArray = function castArray(value) {\n  return Array.isArray(value) ? value : [value];\n};\n\nvar isObject = exports.isObject = function isObject(value) {\n  return null != value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n};\n\nvar isFormData = exports.isFormData = function isFormData(value) {\n  return value && value.constructor && value.constructor.toString().trim().indexOf('function FormData') === 0;\n};\n\nvar isStream = exports.isStream = function isStream(value) {\n  var stream = __webpack_require__(6);\n\n  return value instanceof stream.Stream;\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nthrow new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use \"lib\" folder modules instead. For any questions please contact as at http://support.backendless.com/')\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _cache = __webpack_require__(3);\n\nvar _cache2 = _interopRequireDefault(_cache);\n\nvar _eventEmitter = __webpack_require__(4);\n\nvar _eventEmitter2 = _interopRequireDefault(_eventEmitter);\n\nvar _qs = __webpack_require__(5);\n\nvar qs = _interopRequireWildcard(_qs);\n\nvar _utils = __webpack_require__(0);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CONTENT_TYPE_HEADER = 'Content-Type';\nvar CACHE_FLUSH_INTERVAL = 60000; //60 sec\n\nvar cache = new _cache2.default(CACHE_FLUSH_INTERVAL);\n\nvar ResponseError = function (_Error) {\n  _inherits(ResponseError, _Error);\n\n  function ResponseError(response) {\n    _classCallCheck(this, ResponseError);\n\n    var _this = _possibleConstructorReturn(this, (ResponseError.__proto__ || Object.getPrototypeOf(ResponseError)).call(this));\n\n    var error = parseError(response);\n\n    _this.message = error.message || error;\n    _this.code = error.code;\n\n    _this.status = response.status;\n    _this.headers = response.headers;\n    _this.body = response.body;\n    return _this;\n  }\n\n  return ResponseError;\n}(Error);\n\nfunction parseError(res) {\n  if (res.status === 502) {\n    return 'No connection with server';\n  }\n\n  return res.body || 'Status Code ' + res.status + ' (' + res.statusText + ')';\n}\n\nfunction parseBody(res) {\n  try {\n    return _extends({}, res, { body: JSON.parse(res.body) });\n  } catch (e) {\n    return res;\n  }\n}\n\nfunction parseHeaders(headersString) {\n  var parsed = {};\n\n  if (!headersString) {\n    return parsed;\n  }\n\n  headersString.split('\\n').forEach(function (line) {\n    var i = line.indexOf(':');\n    var key = line.substr(0, i).trim();\n    var val = line.substr(i + 1).trim();\n\n    if (key) {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n}\n\nvar sendXmlHttpRequest = function sendXmlHttpRequest(path, method, headers, body) {\n  return new Promise(function sendRequest(resolve, reject) {\n    var request = new Request.XMLHttpRequest();\n\n    request.open(method.toUpperCase(), path, true);\n\n    request.onload = function handleLoadEvent() {\n      var headers = parseHeaders(request.getAllResponseHeaders());\n      var _request = request,\n          status = _request.status,\n          statusText = _request.statusText,\n          response = _request.response,\n          responseText = _request.responseText;\n\n      var body = response || responseText;\n\n      resolve({ status: status, statusText: statusText, headers: headers, body: body });\n\n      request = null;\n    };\n\n    request.onerror = function handleErrorEvent() {\n      reject(new Error('Network Error'));\n\n      request = null;\n    };\n\n    request.ontimeout = function handleTimeout() {\n      reject(new Error('Connection aborted due to timeout'));\n\n      request = null;\n    };\n\n    Object.keys(headers).forEach(function (key) {\n      request.setRequestHeader(key, headers[key]);\n    });\n\n    request.send(body);\n  });\n};\n\nvar sendNodeAPIRequest = function sendNodeAPIRequest(path, method, headers, body, encoding) {\n  return new Promise(function (resolve, reject) {\n    var u = __webpack_require__(7).parse(path);\n    var form = (0, _utils.isFormData)(body) && body;\n\n    var https = u.protocol === 'https:';\n    var options = {\n      host: u.hostname,\n      port: u.port || (https ? 443 : 80),\n      method: method,\n      path: u.path,\n      headers: headers\n    };\n\n    var _send = function _send() {\n      var Buffer = __webpack_require__(1).Buffer;\n      var httpClient = __webpack_require__(https ? 8 : 9);\n\n      var req = httpClient.request(options, function (res) {\n        var strings = [];\n        var buffers = [];\n        var bufferLength = 0;\n        var body = '';\n\n        var status = res.statusCode,\n            statusText = res.statusMessage,\n            headers = res.headers;\n\n\n        res.on('data', function (chunk) {\n          if (!Buffer.isBuffer(chunk)) {\n            strings.push(chunk);\n          } else if (chunk.length) {\n            bufferLength += chunk.length;\n            buffers.push(chunk);\n          }\n        });\n\n        res.on('end', function () {\n          if (bufferLength) {\n            body = Buffer.concat(buffers, bufferLength);\n\n            if (encoding != null) {\n              body = body.toString(encoding);\n            }\n          } else if (strings.length) {\n            body = strings.join();\n          }\n\n          resolve({ status: status, statusText: statusText, headers: headers, body: body });\n        });\n\n        res.on('error', reject);\n      });\n\n      req.on('error', reject);\n\n      if (body) {\n        if ((0, _utils.isStream)(body)) {\n          body.pipe(req);\n          return;\n        }\n\n        req.write(body);\n      }\n\n      req.end();\n    };\n\n    if (form) {\n      _extends(options.headers, form.getHeaders());\n\n      form.getLength(function (err, length) {\n        if (!err && !isNaN(length)) {\n          options.headers['content-length'] = length;\n        }\n\n        _send();\n      });\n    } else {\n      if (body && !options.headers['content-length']) {\n        var Buffer = __webpack_require__(1).Buffer;\n        options.headers['content-length'] = Buffer.byteLength(body);\n      }\n\n      _send();\n    }\n  });\n};\n\n/**\n * Checks if a network request came back fine, and throws an error if not\n *\n * @param  {object} response   A response from a network request\n *\n * @return {object|undefined} Returns either the response, or throws an error\n */\nfunction checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  }\n\n  throw new ResponseError(response);\n}\n\nvar REQUEST_EVENT = 'request';\nvar RESPONSE_EVENT = 'response';\nvar ERROR_EVENT = 'error';\nvar DONE_EVENT = 'done';\n\nvar Request = function (_EventEmitter) {\n  _inherits(Request, _EventEmitter);\n\n  function Request(path, method, body) {\n    _classCallCheck(this, Request);\n\n    var _this2 = _possibleConstructorReturn(this, (Request.__proto__ || Object.getPrototypeOf(Request)).call(this));\n\n    _this2.method = method;\n    _this2.path = path;\n    _this2.body = body;\n    _this2.tags = undefined;\n    _this2.unwrap = true;\n    _this2.cacheTTL = 0;\n    _this2.headers = {};\n    _this2.queryParams = {};\n    _this2.encoding = 'utf8';\n    return _this2;\n  }\n\n  /**\n   * Sets a header\n   *\n   * @param {String|Object} key or map of headers\n   * @param {String} [value]\n   * @returns {Request}\n   */\n\n\n  _createClass(Request, [{\n    key: 'set',\n    value: function set(key, value) {\n      if ((0, _utils.isObject)(key)) {\n        for (var headerName in key) {\n          this.set(headerName, key[headerName]);\n        }\n      } else if (typeof value !== 'undefined') {\n        this.headers[key] = value;\n      }\n\n      return this;\n    }\n\n    /**\n     * Which kind of tags this request affects.\n     * Used for cache validation.\n     * Non GET requests with defined tags, will clean all related to these tags caches\n     *\n     * @param {Array.<String>} tags\n     * @returns {Request}\n     */\n\n  }, {\n    key: 'cacheTags',\n    value: function cacheTags() {\n      for (var _len = arguments.length, tags = Array(_len), _key = 0; _key < _len; _key++) {\n        tags[_key] = arguments[_key];\n      }\n\n      this.tags = tags;\n\n      return this;\n    }\n\n    /**\n     * @param {Object} queryParams\n     * @returns {Request}\n     */\n\n  }, {\n    key: 'query',\n    value: function query(queryParams) {\n      _extends(this.queryParams, queryParams);\n\n      return this;\n    }\n  }, {\n    key: 'form',\n    value: function form(_form) {\n      var _this3 = this;\n\n      if (_form) {\n        var _FormData = module.exports.FormData;\n\n        if (_form instanceof _FormData) {\n          this.body = _form;\n        } else {\n          (function () {\n            var formData = new _FormData();\n\n            var _loop = function _loop(formKey) {\n              if (formKey) {\n                (0, _utils.castArray)(_form[formKey]).forEach(function (formValue) {\n                  if (formValue && formValue.hasOwnProperty('value') && formValue.hasOwnProperty('options')) {\n                    formData.append(formKey, formValue.value, formValue.options);\n                  } else {\n                    formData.append(formKey, formValue);\n                  }\n                });\n              }\n            };\n\n            for (var formKey in _form) {\n              _loop(formKey);\n            }\n\n            _this3.body = formData;\n          })();\n        }\n      }\n\n      return this;\n    }\n\n    /**\n     * Should we cache or use cached result\n     *\n     * @param {Number} ttl Time to live for cached response. 15 seconds by default\n     * @returns {Request}\n     */\n\n  }, {\n    key: 'useCache',\n    value: function useCache() {\n      var ttl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 15000;\n\n      this.cacheTTL = ttl;\n\n      return this;\n    }\n\n    /**\n     * Reset cache if passed TRUE and tags has been specified before\n     *\n     * @param {Boolean} reset - flag to reset cache or not\n     * @returns {Request}\n     */\n\n  }, {\n    key: 'resetCache',\n    value: function resetCache(reset) {\n      if (reset && this.tags) {\n        cache.deleteByTags(this.tags);\n      }\n\n      return this;\n    }\n\n    /**\n     * Shortcut for req.set('Content-Type', value)\n     *\n     * @param {String} contentType\n     * @returns {Request}\n     */\n\n  }, {\n    key: 'type',\n    value: function type(contentType) {\n      this.set(CONTENT_TYPE_HEADER, contentType);\n\n      return this;\n    }\n\n    /**\n     * Should we unwrap the response and return only body. true by default\n     * @param {Boolean} unwrap\n     * @returns {Request}\n     */\n\n  }, {\n    key: 'unwrapBody',\n    value: function unwrapBody(unwrap) {\n      this.unwrap = unwrap;\n\n      return this;\n    }\n\n    /**\n     * set encoding to response\n     * works only for Node js\n     *\n     * @param {String} encoding\n     * @returns {Request}\n     */\n\n  }, {\n    key: 'setEncoding',\n    value: function setEncoding(encoding) {\n      this.encoding = encoding;\n\n      return this;\n    }\n\n    /**\n     * Sends the requst\n     *\n     * @param {Object} body\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'send',\n    value: function send(body) {\n      var _this4 = this;\n\n      this.emit(REQUEST_EVENT, this);\n\n      var path = this.path;\n      var queryString = qs.stringify(this.queryParams);\n\n      if (queryString) {\n        path += '?' + queryString;\n      }\n\n      if (this.cacheTTL) {\n        var cached = cache.get(path);\n\n        if (cached !== undefined) {\n          return Promise.resolve(cached);\n        }\n      }\n\n      var type = this.headers[CONTENT_TYPE_HEADER];\n\n      if (!type && (0, _utils.isObject)(body) && !(0, _utils.isFormData)(body)) {\n        this.type('application/json');\n      }\n\n      if (body) {\n        var isJSON = this.headers[CONTENT_TYPE_HEADER] === 'application/json';\n\n        body = isJSON && typeof body !== 'string' ? JSON.stringify(body) : body;\n      }\n\n      var unwrapBody = function unwrapBody(res) {\n        return _this4.unwrap ? res.body : res;\n      };\n\n      /**\n       * Caches the response if required\n       */\n      var cacheResponse = function cacheResponse(res) {\n        if (_this4.cacheTTL) {\n          cache.set(path, res, _this4.tags, _this4.cacheTTL);\n        }\n\n        return res;\n      };\n\n      /**\n       * Deletes all relevant to req.cacheTags keys from the cache if this request method is not GET\n       */\n      var flushCache = function flushCache(res) {\n        if (_this4.tags && _this4.method !== 'get') {\n          cache.deleteByTags(_this4.tags);\n        }\n\n        return res;\n      };\n\n      if (Request.verbose) {\n        console.log(this.method.toUpperCase(), decodeURIComponent(path), body, this.headers);\n      }\n\n      var request = Request.send(path, this.method.toUpperCase(), this.headers, body, this.encoding).then(parseBody).then(checkStatus).then(unwrapBody).then(cacheResponse).then(flushCache);\n\n      request.then(function (result) {\n        _this4.emit(RESPONSE_EVENT, result);\n        _this4.emit(DONE_EVENT, null, result);\n      }).catch(function (error) {\n        _this4.emit(ERROR_EVENT, error);\n        _this4.emit(DONE_EVENT, error);\n      });\n\n      return request;\n    }\n\n    /**\n     * If you are too lazy to use method 'send', don't use it and stay cool :)\n     *\n     * @param {Function} successHandler\n     * @param {Function} errorHandler\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'then',\n    value: function then(successHandler, errorHandler) {\n      this.promise = this.promise || this.send(this.body);\n\n      return this.promise.then(successHandler, errorHandler);\n    }\n\n    /**\n     * @param {Function} errorHandler\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'catch',\n    value: function _catch(errorHandler) {\n      this.promise = this.promise || this.send(this.body);\n\n      return this.promise.catch(errorHandler);\n    }\n  }]);\n\n  return Request;\n}(_eventEmitter2.default);\n\nObject.defineProperty(Request, 'FormData', {\n  get: function get() {\n    return typeof FormData !== 'undefined' ? FormData : __webpack_require__(10);\n  }\n});\n\nRequest.XMLHttpRequest = typeof XMLHttpRequest !== 'undefined' ? XMLHttpRequest : undefined;\n\nRequest.send = function (path, method, headers, body, encoding) {\n  var sender = typeof Request.XMLHttpRequest !== 'undefined' ? sendXmlHttpRequest : sendNodeAPIRequest;\n\n  return sender(path, method, headers, body, encoding);\n};\n\nRequest.verbose = false;\nRequest.methods = ['get', 'post', 'put', 'patch', 'delete'];\n\nRequest.methods.forEach(function (method) {\n  Request[method] = function (path, body) {\n    return new Request(path, method, body);\n  };\n});\n\nmodule.exports = Request;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DEFAULT_TTL = 30000; // 30 sec\n\n/**\n * @typedef {Object} CacheItem\n * @property {*} value\n * @property {Array.<RegExp|String>} tags\n * @property {Number} ttl\n */\n\n/**\n * @param {*} value\n * @param {Array.<RegExp|String>}tags\n * @param {Number} ttl\n * @returns {CacheItem}\n */\nvar cacheItem = function cacheItem(value, tags, ttl) {\n  return { value: value, tags: tags, ttl: ttl };\n};\n\nvar currentTime = function currentTime() {\n  return new Date().getTime();\n};\n\n/**\n * Returns true if tag A matches tag B :\n *  - if they are non-strictly equal\n *  - if one of them is Regexp matching the opposite\n *\n * @param {String|RegExp} a\n * @param {String|RegExp} b\n * @returns {Boolean}\n */\nvar tagsMatches = function tagsMatches(a, b) {\n  var result = a == b; // eslint-disable-line\n\n  if (!result && a instanceof RegExp) {\n    result = a.test(b);\n  }\n\n  if (!result && b instanceof RegExp) {\n    result = b.test(a);\n  }\n\n  return result;\n};\n\n/**\n * Returns true if any of A tags matches any of B tags\n *\n * @param {Array.<String|RegExp>} a\n * @param {Array.<String|RegExp>} b\n * @returns {Boolean}\n */\nvar tagsContainMatches = function tagsContainMatches(a, b) {\n  return !!a.find(function (aTag) {\n    return b.find(function (bTag) {\n      return tagsMatches(aTag, bTag);\n    });\n  });\n};\n\n/**\n * A Cache with TTL and optional tags for the keys\n * Makes it possible to assign multiple tags for a key and delete keys by tags\n * Optionally it starts flushing timer which cleans all outdated keys\n */\n\nvar Cache = function () {\n\n  /**\n   * @param {Number?} flushInterval\n   */\n  function Cache(flushInterval) {\n    _classCallCheck(this, Cache);\n\n    this.flushInterval = flushInterval;\n\n    /**\n     * @type {Map.<String, CacheItem>}\n     */\n    this.map = new Map();\n  }\n\n  /**\n   * @param {String} key\n   * @returns {*}\n   */\n\n\n  _createClass(Cache, [{\n    key: \"get\",\n    value: function get(key) {\n      var cacheItem = this.map.get(key);\n\n      if (cacheItem) {\n        if (cacheItem.ttl > currentTime()) {\n          return cacheItem.value;\n        } else {\n          this.map.delete(key);\n        }\n      }\n    }\n\n    /**\n     * @param {String} key\n     * @param {*} value\n     * @param {Array.<RegExp|String>=} tags\n     * @param {Number=} ttl\n     */\n\n  }, {\n    key: \"set\",\n    value: function set(key, value, tags) {\n      var ttl = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DEFAULT_TTL;\n\n      this.map.set(key, cacheItem(value, tags, currentTime() + ttl));\n\n      if (this.flushInterval && !this.flushTimer) {\n        this.flushTimer = setInterval(this.flush.bind(this), this.flushInterval);\n\n        if (this.flushTimer.unref) {\n          this.flushTimer.unref();\n        }\n      }\n    }\n\n    /**\n     * @param {String} key\n     */\n\n  }, {\n    key: \"delete\",\n    value: function _delete(key) {\n      this.map.delete(key);\n    }\n\n    /**\n     * @param {Array.<String>} tags\n     */\n\n  }, {\n    key: \"deleteByTags\",\n    value: function deleteByTags(tags) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.map[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _step$value = _slicedToArray(_step.value, 2),\n              key = _step$value[0],\n              value = _step$value[1];\n\n          if (value.tags && tagsContainMatches(tags, value.tags)) {\n            this.delete(key);\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n\n    /**\n     * Deletes all outdated keys\n     */\n\n  }, {\n    key: \"flush\",\n    value: function flush() {\n      var now = currentTime();\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.map[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var _step2$value = _slicedToArray(_step2.value, 2),\n              key = _step2$value[0],\n              value = _step2$value[1];\n\n          if (value.ttl < now) {\n            this.delete(key);\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  }]);\n\n  return Cache;\n}();\n\nexports.default = Cache;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EventEmitter = function () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.events = {};\n  }\n\n  _createClass(EventEmitter, [{\n    key: \"on\",\n    value: function on(eventName, callback) {\n      this.events[eventName] = this.events[eventName] || [];\n      this.events[eventName].push(callback);\n\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(eventName, callback) {\n      if (!eventName) {\n        this.events = {};\n      } else if (this.events[eventName]) {\n        if (callback) {\n          this.events[eventName] = this.events[eventName].filter(function (c) {\n            return c !== callback;\n          });\n        } else {\n          delete this.events[eventName];\n        }\n      }\n\n      return this;\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(eventName) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (this.events[eventName]) {\n        this.events[eventName].forEach(function (callback) {\n          return callback.apply(undefined, args);\n        });\n      }\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nexports.default = EventEmitter;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.stringify = undefined;\n\nvar _utils = __webpack_require__(0);\n\n/**\n * Produces a URL query string from a given obj by iterating through the object's \"own properties\".\n * @param {Object} obj\n * @returns {string}\n */\nvar stringify = exports.stringify = function stringify(obj) {\n  var tokens = [];\n\n  Object.keys(obj).forEach(function (key) {\n    var value = obj[key];\n\n    if (value !== undefined) {\n      (0, _utils.castArray)(value).forEach(function (value) {\n        tokens.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n      });\n    }\n  });\n\n  return tokens.join('&');\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nthrow new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use \"lib\" folder modules instead. For any questions please contact as at http://support.backendless.com/')\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nthrow new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use \"lib\" folder modules instead. For any questions please contact as at http://support.backendless.com/')\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nthrow new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use \"lib\" folder modules instead. For any questions please contact as at http://support.backendless.com/')\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nthrow new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use \"lib\" folder modules instead. For any questions please contact as at http://support.backendless.com/')\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\nthrow new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use \"lib\" folder modules instead. For any questions please contact as at http://support.backendless.com/')\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// backendless-request.min.js","/**\n * Casts `value` as an array if it's not one.\n * Equvivalent to lodash/castArray\n */\nexport const castArray = value => {\n  return Array.isArray(value) ? value : [value]\n}\n\nexport const isObject = value => null != value && typeof value === 'object'\n\nexport const isFormData = value => {\n  return value && value.constructor && value.constructor.toString().trim().indexOf('function FormData') === 0\n}\n\nexport const isStream = value => {\n  const stream = require('stream')\n\n  return value instanceof stream.Stream\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use \"lib\" folder modules instead. For any questions please contact as at http://support.backendless.com/')\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"buffer\"\n// module id = 1\n// module chunks = 0","import Cache from './cache'\nimport EventEmitter from './event-emitter'\nimport * as qs from './qs'\nimport { castArray, isObject, isFormData, isStream } from './utils'\n\nconst CONTENT_TYPE_HEADER = 'Content-Type'\nconst CACHE_FLUSH_INTERVAL = 60000 //60 sec\n\nconst cache = new Cache(CACHE_FLUSH_INTERVAL)\n\nclass ResponseError extends Error {\n  constructor(response) {\n    super()\n\n    const error = parseError(response)\n\n    this.message = error.message || error\n    this.code = error.code\n\n    this.status = response.status\n    this.headers = response.headers\n    this.body = response.body\n  }\n}\n\nfunction parseError(res) {\n  if (res.status === 502) {\n    return 'No connection with server'\n  }\n\n  return res.body || `Status Code ${res.status} (${res.statusText})`\n}\n\nfunction parseBody(res) {\n  try {\n    return { ...res, body: JSON.parse(res.body) }\n  } catch (e) {\n    return res\n  }\n}\n\nfunction parseHeaders(headersString) {\n  const parsed = {}\n\n  if (!headersString) {\n    return parsed\n  }\n\n  headersString.split('\\n').forEach(line => {\n    const i = line.indexOf(':')\n    const key = line.substr(0, i).trim()\n    const val = line.substr(i + 1).trim()\n\n    if (key) {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val\n    }\n  })\n\n  return parsed\n}\n\nconst sendXmlHttpRequest = (path, method, headers, body) => {\n  return new Promise(function sendRequest(resolve, reject) {\n    let request = new Request.XMLHttpRequest()\n\n    request.open(method.toUpperCase(), path, true)\n\n    request.onload = function handleLoadEvent() {\n      const headers = parseHeaders(request.getAllResponseHeaders())\n      const { status, statusText, response, responseText } = request\n      const body = response || responseText\n\n      resolve({ status, statusText, headers, body })\n\n      request = null\n    }\n\n    request.onerror = function handleErrorEvent() {\n      reject(new Error('Network Error'))\n\n      request = null\n    }\n\n    request.ontimeout = function handleTimeout() {\n      reject(new Error('Connection aborted due to timeout'))\n\n      request = null\n    }\n\n    Object.keys(headers).forEach(key => {\n      request.setRequestHeader(key, headers[key])\n    })\n\n    request.send(body)\n  })\n}\n\nconst sendNodeAPIRequest = (path, method, headers, body, encoding) => {\n  return new Promise((resolve, reject) => {\n    const u = require('url').parse(path)\n    const form = isFormData(body) && body\n\n    const https = u.protocol === 'https:'\n    const options = {\n      host   : u.hostname,\n      port   : u.port || (https ? 443 : 80),\n      method : method,\n      path   : u.path,\n      headers: headers\n    }\n\n    const _send = () => {\n      const Buffer = require('buffer').Buffer\n      const httpClient = require(https ? 'https' : 'http')\n\n      const req = httpClient.request(options, res => {\n        const strings = []\n        const buffers = []\n        let bufferLength = 0\n        let body = ''\n\n        const { statusCode: status, statusMessage: statusText, headers } = res\n\n        res.on('data', chunk => {\n          if (!Buffer.isBuffer(chunk)) {\n            strings.push(chunk)\n\n          } else if (chunk.length) {\n            bufferLength += chunk.length\n            buffers.push(chunk)\n          }\n        })\n\n        res.on('end', () => {\n          if (bufferLength) {\n            body = Buffer.concat(buffers, bufferLength)\n\n            if (encoding != null) {\n              body = body.toString(encoding)\n            }\n\n          } else if (strings.length) {\n            body = strings.join()\n          }\n\n          resolve({ status, statusText, headers, body })\n        })\n\n        res.on('error', reject)\n      })\n\n      req.on('error', reject)\n\n      if (body) {\n        if (isStream(body)) {\n          body.pipe(req)\n          return\n        }\n\n        req.write(body)\n      }\n\n      req.end()\n    }\n\n    if (form) {\n      Object.assign(options.headers, form.getHeaders())\n\n      form.getLength(function(err, length) {\n        if (!err && !isNaN(length)) {\n          options.headers['content-length'] = length\n        }\n\n        _send()\n      })\n    } else {\n      if (body && !options.headers['content-length']) {\n        const Buffer = require('buffer').Buffer\n        options.headers['content-length'] = Buffer.byteLength(body)\n      }\n\n      _send()\n    }\n  })\n}\n\n/**\n * Checks if a network request came back fine, and throws an error if not\n *\n * @param  {object} response   A response from a network request\n *\n * @return {object|undefined} Returns either the response, or throws an error\n */\nfunction checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response\n  }\n\n  throw new ResponseError(response)\n}\n\nconst REQUEST_EVENT = 'request'\nconst RESPONSE_EVENT = 'response'\nconst ERROR_EVENT = 'error'\nconst DONE_EVENT = 'done'\n\nclass Request extends EventEmitter {\n\n  constructor(path, method, body) {\n    super()\n\n    this.method = method\n    this.path = path\n    this.body = body\n    this.tags = undefined\n    this.unwrap = true\n    this.cacheTTL = 0\n    this.headers = {}\n    this.queryParams = {}\n    this.encoding = 'utf8'\n  }\n\n  /**\n   * Sets a header\n   *\n   * @param {String|Object} key or map of headers\n   * @param {String} [value]\n   * @returns {Request}\n   */\n  set(key, value) {\n    if (isObject(key)) {\n      for (const headerName in key) {\n        this.set(headerName, key[headerName])\n      }\n    } else if (typeof value !== 'undefined') {\n      this.headers[key] = value\n    }\n\n    return this\n  }\n\n  /**\n   * Which kind of tags this request affects.\n   * Used for cache validation.\n   * Non GET requests with defined tags, will clean all related to these tags caches\n   *\n   * @param {Array.<String>} tags\n   * @returns {Request}\n   */\n  cacheTags(...tags) {\n    this.tags = tags\n\n    return this\n  }\n\n  /**\n   * @param {Object} queryParams\n   * @returns {Request}\n   */\n  query(queryParams) {\n    Object.assign(this.queryParams, queryParams)\n\n    return this\n  }\n\n  form(form) {\n    if (form) {\n      const FormData = module.exports.FormData\n\n      if (form instanceof FormData) {\n        this.body = form\n      } else {\n        const formData = new FormData()\n\n        for (const formKey in form) {\n          if (formKey) {\n            castArray(form[formKey]).forEach(formValue => {\n              if (formValue && formValue.hasOwnProperty('value') && formValue.hasOwnProperty('options')) {\n                formData.append(formKey, formValue.value, formValue.options)\n              } else {\n                formData.append(formKey, formValue)\n              }\n            })\n          }\n        }\n\n        this.body = formData\n      }\n    }\n\n    return this\n  }\n\n  /**\n   * Should we cache or use cached result\n   *\n   * @param {Number} ttl Time to live for cached response. 15 seconds by default\n   * @returns {Request}\n   */\n  useCache(ttl = 15000) {\n    this.cacheTTL = ttl\n\n    return this\n  }\n\n  /**\n   * Reset cache if passed TRUE and tags has been specified before\n   *\n   * @param {Boolean} reset - flag to reset cache or not\n   * @returns {Request}\n   */\n  resetCache(reset) {\n    if (reset && this.tags) {\n      cache.deleteByTags(this.tags)\n    }\n\n    return this\n  }\n\n  /**\n   * Shortcut for req.set('Content-Type', value)\n   *\n   * @param {String} contentType\n   * @returns {Request}\n   */\n  type(contentType) {\n    this.set(CONTENT_TYPE_HEADER, contentType)\n\n    return this\n  }\n\n  /**\n   * Should we unwrap the response and return only body. true by default\n   * @param {Boolean} unwrap\n   * @returns {Request}\n   */\n  unwrapBody(unwrap) {\n    this.unwrap = unwrap\n\n    return this\n  }\n\n  /**\n   * set encoding to response\n   * works only for Node js\n   *\n   * @param {String} encoding\n   * @returns {Request}\n   */\n  setEncoding(encoding) {\n    this.encoding = encoding\n\n    return this\n  }\n\n  /**\n   * Sends the requst\n   *\n   * @param {Object} body\n   * @returns {Promise}\n   */\n  send(body) {\n    this.emit(REQUEST_EVENT, this)\n\n    let path = this.path\n    const queryString = qs.stringify(this.queryParams)\n\n    if (queryString) {\n      path += '?' + queryString\n    }\n\n    if (this.cacheTTL) {\n      const cached = cache.get(path)\n\n      if (cached !== undefined) {\n        return Promise.resolve(cached)\n      }\n    }\n\n    const type = this.headers[CONTENT_TYPE_HEADER]\n\n    if (!type && isObject(body) && !isFormData(body)) {\n      this.type('application/json')\n    }\n\n    if (body) {\n      const isJSON = this.headers[CONTENT_TYPE_HEADER] === 'application/json'\n\n      body = (isJSON && typeof body !== 'string') ? JSON.stringify(body) : body\n    }\n\n    const unwrapBody = res => {\n      return this.unwrap ? res.body : res\n    }\n\n    /**\n     * Caches the response if required\n     */\n    const cacheResponse = res => {\n      if (this.cacheTTL) {\n        cache.set(path, res, this.tags, this.cacheTTL)\n      }\n\n      return res\n    }\n\n    /**\n     * Deletes all relevant to req.cacheTags keys from the cache if this request method is not GET\n     */\n    const flushCache = res => {\n      if (this.tags && this.method !== 'get') {\n        cache.deleteByTags(this.tags)\n      }\n\n      return res\n    }\n\n    if (Request.verbose) {\n      console.log(this.method.toUpperCase(), decodeURIComponent(path), body, this.headers)\n    }\n\n    const request = Request.send(path, this.method.toUpperCase(), this.headers, body, this.encoding)\n      .then(parseBody)\n      .then(checkStatus)\n      .then(unwrapBody)\n      .then(cacheResponse)\n      .then(flushCache)\n\n    request\n      .then(result => {\n        this.emit(RESPONSE_EVENT, result)\n        this.emit(DONE_EVENT, null, result)\n      })\n      .catch(error => {\n        this.emit(ERROR_EVENT, error)\n        this.emit(DONE_EVENT, error)\n      })\n\n    return request\n  }\n\n  /**\n   * If you are too lazy to use method 'send', don't use it and stay cool :)\n   *\n   * @param {Function} successHandler\n   * @param {Function} errorHandler\n   * @returns {Promise}\n   */\n  then(successHandler, errorHandler) {\n    this.promise = this.promise || this.send(this.body)\n\n    return this.promise.then(successHandler, errorHandler)\n  }\n\n  /**\n   * @param {Function} errorHandler\n   * @returns {Promise}\n   */\n  catch(errorHandler) {\n    this.promise = this.promise || this.send(this.body)\n\n    return this.promise.catch(errorHandler)\n  }\n}\n\nObject.defineProperty(Request, 'FormData', {\n  get() {\n    return typeof FormData !== 'undefined' ? FormData : require('form-data')\n  }\n})\n\nRequest.XMLHttpRequest = typeof XMLHttpRequest !== 'undefined' ? XMLHttpRequest : undefined\n\nRequest.send = (path, method, headers, body, encoding) => {\n  const sender = typeof Request.XMLHttpRequest !== 'undefined'\n    ? sendXmlHttpRequest\n    : sendNodeAPIRequest\n\n  return sender(path, method, headers, body, encoding)\n}\n\nRequest.verbose = false\nRequest.methods = ['get', 'post', 'put', 'patch', 'delete']\n\nRequest.methods.forEach(method => {\n  Request[method] = function(path, body) {\n    return new Request(path, method, body)\n  }\n})\n\nmodule.exports = Request\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const DEFAULT_TTL = 30000 // 30 sec\n\n/**\n * @typedef {Object} CacheItem\n * @property {*} value\n * @property {Array.<RegExp|String>} tags\n * @property {Number} ttl\n */\n\n/**\n * @param {*} value\n * @param {Array.<RegExp|String>}tags\n * @param {Number} ttl\n * @returns {CacheItem}\n */\nconst cacheItem = (value, tags, ttl) => ({ value, tags, ttl })\n\nconst currentTime = () => new Date().getTime()\n\n/**\n * Returns true if tag A matches tag B :\n *  - if they are non-strictly equal\n *  - if one of them is Regexp matching the opposite\n *\n * @param {String|RegExp} a\n * @param {String|RegExp} b\n * @returns {Boolean}\n */\nconst tagsMatches = (a, b) => {\n  let result = a == b // eslint-disable-line\n\n  if (!result && a instanceof RegExp) {\n    result = a.test(b)\n  }\n\n  if (!result && b instanceof RegExp) {\n    result = b.test(a)\n  }\n\n  return result\n}\n\n/**\n * Returns true if any of A tags matches any of B tags\n *\n * @param {Array.<String|RegExp>} a\n * @param {Array.<String|RegExp>} b\n * @returns {Boolean}\n */\nconst tagsContainMatches = (a, b) => {\n  return !!a.find(aTag => b.find(bTag => tagsMatches(aTag, bTag)))\n}\n\n\n/**\n * A Cache with TTL and optional tags for the keys\n * Makes it possible to assign multiple tags for a key and delete keys by tags\n * Optionally it starts flushing timer which cleans all outdated keys\n */\nexport default class Cache {\n\n  /**\n   * @param {Number?} flushInterval\n   */\n  constructor(flushInterval) {\n    this.flushInterval = flushInterval\n\n    /**\n     * @type {Map.<String, CacheItem>}\n     */\n    this.map = new Map()\n  }\n\n  /**\n   * @param {String} key\n   * @returns {*}\n   */\n  get(key) {\n    const cacheItem = this.map.get(key)\n\n    if (cacheItem) {\n      if (cacheItem.ttl > currentTime()) {\n        return cacheItem.value\n      } else {\n        this.map.delete(key)\n      }\n    }\n  }\n\n  /**\n   * @param {String} key\n   * @param {*} value\n   * @param {Array.<RegExp|String>=} tags\n   * @param {Number=} ttl\n   */\n  set(key, value, tags, ttl = DEFAULT_TTL) {\n    this.map.set(key, cacheItem(value, tags, currentTime() + ttl))\n\n    if (this.flushInterval && !this.flushTimer) {\n      this.flushTimer = setInterval(this.flush.bind(this), this.flushInterval)\n\n      if (this.flushTimer.unref) {\n        this.flushTimer.unref()\n      }\n    }\n  }\n\n  /**\n   * @param {String} key\n   */\n  delete(key) {\n    this.map.delete(key)\n  }\n\n  /**\n   * @param {Array.<String>} tags\n   */\n  deleteByTags(tags) {\n    for (const [key, value] of this.map) {\n      if (value.tags && tagsContainMatches(tags, value.tags)) {\n        this.delete(key)\n      }\n    }\n  }\n\n  /**\n   * Deletes all outdated keys\n   */\n  flush() {\n    const now = currentTime()\n\n    for (const [key, value] of this.map) {\n      if (value.ttl < now) {\n        this.delete(key)\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cache.js","\nexport default class EventEmitter {\n\n  constructor() {\n    this.events = {}\n  }\n\n  on(eventName, callback) {\n    this.events[eventName] = this.events[eventName] || []\n    this.events[eventName].push(callback)\n\n    return this\n  }\n\n  off(eventName, callback) {\n    if (!eventName) {\n      this.events = {}\n\n    } else if (this.events[eventName]) {\n      if (callback) {\n        this.events[eventName] = this.events[eventName].filter(c => c !== callback)\n      } else {\n        delete this.events[eventName]\n      }\n    }\n\n    return this\n  }\n\n  emit(eventName, ...args) {\n    if (this.events[eventName]) {\n      this.events[eventName].forEach(callback => callback(...args))\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/event-emitter.js","import { castArray } from './utils'\n\n/**\n * Produces a URL query string from a given obj by iterating through the object's \"own properties\".\n * @param {Object} obj\n * @returns {string}\n */\nexport const stringify = obj => {\n  const tokens = []\n\n  Object.keys(obj).forEach(key => {\n    const value = obj[key]\n\n    if (value !== undefined) {\n      castArray(value).forEach(value => {\n        tokens.push(`${ encodeURIComponent(key) }=${ encodeURIComponent(value) }`)\n      })\n    }\n  })\n\n  return tokens.join('&')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/qs.js","throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use \"lib\" folder modules instead. For any questions please contact as at http://support.backendless.com/')\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"stream\"\n// module id = 6\n// module chunks = 0","throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use \"lib\" folder modules instead. For any questions please contact as at http://support.backendless.com/')\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"url\"\n// module id = 7\n// module chunks = 0","throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use \"lib\" folder modules instead. For any questions please contact as at http://support.backendless.com/')\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"https\"\n// module id = 8\n// module chunks = 0","throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use \"lib\" folder modules instead. For any questions please contact as at http://support.backendless.com/')\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 9\n// module chunks = 0","throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use \"lib\" folder modules instead. For any questions please contact as at http://support.backendless.com/')\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"form-data\"\n// module id = 10\n// module chunks = 0"],"sourceRoot":""}